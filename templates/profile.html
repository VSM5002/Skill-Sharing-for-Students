<!DOCTYPE html>
<html>
<head>
    <title>Profile</title>
</head>
<body style="font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; color: #333;">
    <div style="display: flex; height: 100vh;">
        <!-- Sidebar -->
        <div style="width: 220px; background-color: #333; color: white; padding: 20px; box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);">
            <h2 style="margin-top: 0;">Menu</h2>
            <a href="/homepage" style="color: white; text-decoration: none; display: block; margin: 10px 0;">Homepage</a>
            <a href="/certificates" style="color: white; text-decoration: none; display: block; margin: 10px 0;">Certificates</a>
            <a href="/add_skill" style="color: white; text-decoration: none; display: block; margin: 10px 0;">Add a Skill</a>
            <a href="/requests" style="color: white; text-decoration: none; display: block; margin: 10px 0;">Requests</a>
            <a href="/settings" style="color: white; text-decoration: none; display: block; margin: 10px 0;">Settings</a>
            <a href="/logout" style="color: white; text-decoration: none; display: block; margin: 10px 0;">Logout</a>
        </div>
        <!-- Main Content -->
        <div style="flex-grow: 1; padding: 20px; overflow-y: auto;">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <ul style="list-style: none; padding: 0;">
                    {% for category, message in messages %}
                        <li style="background: #e0ffe0; color: #155724; border: 1px solid #b2dfdb; padding: 10px; margin-bottom: 10px; border-radius: 4px;">
                            {{ message }}
                        </li>
                    {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}
            <h1 style="margin-top: 0;">Your Profile</h1>
            <div style="margin-bottom: 30px;">
                <strong>Name:</strong> {{ user[0] }}<br>
                <strong>Email:</strong> {{ user[1] }}<br>
                <strong>Bio:</strong> {{ user[2] or '' }}<br>
                <strong>Skills:</strong> {{ user[3] or '' }}<br>
                <strong>Contact:</strong> {{ user[4] or '' }}<br>
                <strong>Education:</strong> {{ user[5] or '' }}<br>
                <strong>Experience:</strong> {{ user[6] or '' }}<br>
            </div>
            <form method="POST" action="/profile" style="margin-top: 20px;">
                <h2>Edit Profile</h2>
                <div style="margin-bottom: 15px;">
                    <label for="name" style="display: block; font-weight: bold;">Name:</label>
                    <input type="text" id="name" name="name" value="{{ user[0] }}" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="skills" style="display: block; font-weight: bold;">Skills:</label>
                    <textarea id="skills" name="skills" rows="2" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">{{ user[3] }}</textarea>
                </div>
                <button type="submit" style="padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Save Changes</button>
            </form>
            <div style="margin-top: 30px;">
                <h2>Enrolled Skills</h2>
                {% if enrolled_links %}
                    <ul>
                    {% for link in enrolled_links %}
                        <li>
                            <a href="{{ url_for('skill_details', skill_id=link.skill_id) }}" style="color: #007bff; text-decoration: underline;">
                                {{ link.skill_name }}
                            </a>
                        </li>
                    {% endfor %}
                    </ul>
                {% else %}
                    <p>You have not enrolled in any skills yet.</p>
                {% endif %}
            </div>
        </div>
    </div>
</body>
</html>
